# =============================================
# Server Configuration
# =============================================
PORT=10000
NODE_ENV=development
CLIENT_URL=http://localhost:3000

# =============================================
# Database Configuration
# =============================================

##### Cloud Database (Azure Cosmos DB / MongoDB Atlas) #####
MONGO_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/linksnap

##### Local MongoDB (for development only) #####
MONGO_URI_LOCAL=mongodb://127.0.0.1:27017/link-snap

##### Set to 'true' to use local DB, 'false' to use Cloud DB #####
USE_LOCAL_DB=true

# =============================================
# ðŸ”´ SECURITY: Admin Access Settings
# =============================================
# Set to 'true' ONLY on your local machine to access Admin Panel.
# Leave 'false' or remove on Production.
ADMIN_ENABLED=false

# Note: Localhost IPs (127.0.0.1, ::1) are ALREADY included in the code. 
# You only need to add external IPs here (e.g., your office static IP).
ADMIN_WHITELIST_IPS=127.0.0.1,::1

# Rate Limiting Whitelist (Comma separated)
# IPs listed here will bypass all rate limits
# Note: Localhost is already whitelisted by default.
RATE_LIMIT_WHITELIST_IPS=127.0.0.1,::1

# =============================================
# Security Secrets
# =============================================
# Generate random 32+ char strings for these
JWT_ACCESS_SECRET=change_this_to_a_secure_random_string_access
JWT_REFRESH_SECRET=change_this_to_a_secure_random_string_refresh

# Encryption key for smtp email password (MUST be exactly 32 characters)
ENCRYPTION_KEY=12345678901234567890123456789012

# =============================================
# Cookie Settings
# =============================================
# For permanent domain (most secure):
COOKIE_SAMESITE=strict
# For Cloudflare quick tunnel (temporary domains):
# COOKIE_SAMESITE=lax

# =============================================
# Session Configuration
# =============================================
MAX_SESSIONS_PER_USER=10
SESSION_DURATION_DAYS=30

# =============================================
# WebAuthn / Biometric Authentication
# =============================================
# For localhost development:
WEBAUTHN_RP_ID=localhost
WEBAUTHN_RP_NAME=Link-Snap
WEBAUTHN_ORIGIN=http://localhost:3000
MAX_TRUSTED_DEVICES=10

# For production (example):
# WEBAUTHN_RP_ID=yourdomain.com
# WEBAUTHN_RP_NAME=Link-Snap
# WEBAUTHN_ORIGIN=https://yourdomain.com
# MAX_TRUSTED_DEVICES=10

# =============================================
# Subscription System (Lemon Squeezy)
# =============================================
LEMONSQUEEZY_API_KEY=your_lemonsqueezy_api_key
LEMONSQUEEZY_STORE_ID=your_store_id
LEMONSQUEEZY_WEBHOOK_SECRET=your_webhook_secret

# Variant IDs for subscription products
LEMONSQUEEZY_PRO_MONTHLY_VARIANT_ID=123456
LEMONSQUEEZY_PRO_YEARLY_VARIANT_ID=123457
# LEMONSQUEEZY_BUSINESS_MONTHLY_VARIANT_ID=123458
# LEMONSQUEEZY_BUSINESS_YEARLY_VARIANT_ID=123459

# Grace period settings
SUBSCRIPTION_GRACE_PERIOD_DAYS=7

# =============================================
# Email (SMTP) - Optional
# =============================================
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USER=
# SMTP_PASS=
# EMAIL_FROM=noreply@linksnap.com
