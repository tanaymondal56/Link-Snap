# ==============================================
# SERVER CONFIGURATION
# ==============================================
PORT=5000
NODE_ENV=development

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# Primary MongoDB Connection String (Required)
MONGO_URI=mongodb+srv://user:password@cluster.mongodb.net/link-snap

# Local MongoDB Fallback (Optional - for development)
MONGO_URI_LOCAL=mongodb://127.0.0.1:27017/link-snap

# Toggle to force local DB usage even if MONGO_URI is present
# Set 'true' for offline dev, 'false' for cloud
USE_LOCAL_DB=false

# ==============================================
# SECURITY & AUTHENTICATION
# ==============================================
# JSON Web Token Secrets (MUST be strong random strings)
# Generate with: openssl rand -base64 32
JWT_ACCESS_SECRET=your_super_secret_access_key
JWT_REFRESH_SECRET=your_super_secret_refresh_key

# Encryption Key for sensitive data at rest (Must be exactly 32 chars)
ENCRYPTION_KEY=12345678901234567890123456789012

# Ghost Mode / Stealth Admin
# Enable detailed admin routes? (true/false)
ADMIN_ENABLED=true

# IP Whitelisting for Admin Panel
# Comma-separated list of allowed IPs. Localhost (127.0.0.1, ::1) is auto-included.
ADMIN_WHITELIST_IPS=

# Rate Limit Whitelist (Bypass API limits)
RATE_LIMIT_WHITELIST_IPS=

# Cookie Security (strict, lax, none)
# Use 'strict' for production domains, 'lax' for dev/tunnels
COOKIE_SAMESITE=lax

# Content Security Policy (CSP)
# Set to 'false' if experiencing issues with inline scripts during dev
CSP_ENABLED=true

# ==============================================
# CLIENT & CORS
# ==============================================
# URL of the frontend application (for CORS)
CLIENT_URL=http://localhost:5173

# ==============================================
# BIOMETRIC / DEVICE AUTH (WebAuthn)
# ==============================================
# The domain/ID of your application
WEBAUTHN_RP_ID=localhost
# Human-readable name for authenticator apps
WEBAUTHN_RP_NAME=Link-Snap
# Full origin with protocol
WEBAUTHN_ORIGIN=http://localhost:5173
# Maximum trusted devices per admin user
MAX_TRUSTED_DEVICES=10

# ==============================================
# EMAIL SETTINGS (SMTP)
# ==============================================
# SMTP Server Details (e.g., Gmail, SendGrid)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
# Support email address displayed in templates
SUPPORT_EMAIL=support@linksnap.app

# ==============================================
# SUBSCRIPTIONS & PAYMENTS
# ==============================================
# Lemon Squeezy API Keys
LEMONSQUEEZY_API_KEY=your_api_key
LEMONSQUEEZY_STORE_ID=12345
LEMONSQUEEZY_WEBHOOK_SECRET=your_webhook_secret

# Product/Variant IDs
LEMONSQUEEZY_PRO_MONTHLY_VARIANT_ID=00000
LEMONSQUEEZY_PRO_YEARLY_VARIANT_ID=00000

# Grace period for failed payments
SUBSCRIPTION_GRACE_PERIOD_DAYS=7

# ==============================================
# SESSION MANAGEMENT
# ==============================================
MAX_SESSIONS_PER_USER=10
SESSION_DURATION_DAYS=30
